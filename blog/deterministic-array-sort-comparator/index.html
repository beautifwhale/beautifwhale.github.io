<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:125%/1.45 'Inter';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Inter';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Inter';font-weight:bold;text-rendering:optimizeLegibility;font-size:2.4rem;line-height:2.9rem;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Inter';font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:2.9rem;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Inter';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.6rem;line-height:2.175rem;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Inter';font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Inter';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Inter';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:0rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0.725rem;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-style:italic;border-left:0.3625rem solid hsla(0,0%,0%,0.8);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><meta data-react-helmet="true" property="og:type" content="website"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#03A9F4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a31b04f7c83ed6a9a3a60261d0fefcf0"/><title data-react-helmet="true">Deterministic sorting | davidmorton.dev</title><meta data-react-helmet="true" name="description" content="When using Array.sort() make sure your comparator function is deterministic. It should always return the same value for the same inputs, even if the argument order changes."/><meta data-react-helmet="true" property="og:title" content="Deterministic sorting"/><meta data-react-helmet="true" property="og:description" content="When using Array.sort() make sure your comparator function is deterministic. It should always return the same value for the same inputs, even if the argument order changes."/><meta name="generator" content="Gatsby 2.23.20"/><meta data-react-helmet="true" property="og:image" content="https://davidmorton.dev/static/cdf7995e7459cf36a1370bc93c7e8364/94285/banner.jpg"/><meta data-react-helmet="true" name="author" content="Daithi Morton"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="https://davidmorton.dev/static/cdf7995e7459cf36a1370bc93c7e8364/94285/banner.jpg"/><meta data-react-helmet="true" name="twitter:creator" content="daithimorton"/><meta data-react-helmet="true" name="twitter:title" content="Deterministic sorting"/><meta data-react-helmet="true" name="twitter:description" content="When using Array.sort() make sure your comparator function is deterministic. It should always return the same value for the same inputs, even if the argument order changes."/><meta data-react-helmet="true" name="keywords" content="blog,software,javascript,ux,dx,product development,tutorials,learning,teaching,nodejs,sorting"/><style data-href="/styles.6e9c361e4d4b8d7c9097.css">pre::-webkit-scrollbar{height:20px;cursor:pointer}pre::-webkit-scrollbar-thumb{background:grey}pre code::-webkit-scrollbar-track-piece{background:none}pre[class*=language-]:after{display:block;position:absolute;top:0;left:0;background:#1a73e8;color:#fff;padding:.1em .3em}pre.language-meta:after{content:"meta"}pre.language-javascript:after{content:"javascript"}pre.language-jsx:after{content:"jsx"}pre.language-css:after{content:"css"}pre.language-html:after{content:"html"}pre.language-json:after{content:"json"}pre.language-console:after{content:"console"}pre.language-bash:after{content:"bash"}code[class*=language-],pre[class*=language-]{text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#eee;background:#2f2f2f;font-family:Menlo,Roboto Mono,monospace;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#363636}:not(pre)>code[class*=language-]{white-space:normal;border-radius:.2em;padding:.1em .3em}pre[class*=language-]{overflow:auto;position:relative;margin:.5em 0;padding:3em 1em 1.25em}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#a5e844}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name{color:#f2ff00}.token.comment{color:#616161}.token.constant{color:#c792ea}.token.deleted{color:#f66}.token.doctype{color:#616161}.token.entity{color:#f66}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#616161}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#a5e844}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f66}.token.string{color:#a5e844}.token.symbol{color:#c792ea}.token.tag{color:#f66}.token.unit{color:#fd9170}.token.url,.token.variable{color:#f66}a{text-decoration:none;color:#1a73e8;border-bottom:3px solid #1a73e8}li{margin-bottom:.5rem}</style><link href="//fonts.googleapis.com/css?family=Inter:400,500,700" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/component---src-templates-post-js-cb66537d0c8826982aab.js"/><link as="script" rel="preload" href="/291a736a4998dc6bb1e7dae6dfd245355445eafd-7031cf11fa12a2746fc8.js"/><link as="script" rel="preload" href="/acf16f2f71439f91fad451fd15a93dbbc3bca2e0-4b069479f19974f73882.js"/><link as="script" rel="preload" href="/app-8be7f53287652032e68d.js"/><link as="script" rel="preload" href="/framework-5fc6169171e885c3b522.js"/><link as="script" rel="preload" href="/styles-cd63080e784be7b7e7cf.js"/><link as="script" rel="preload" href="/webpack-runtime-03cc0ef7273638027649.js"/><link as="fetch" rel="preload" href="/page-data/blog/deterministic-array-sort-comparator/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header style="margin-left:auto;margin-right:auto;max-width:43.5rem;padding:0.725rem;display:flex;align-items:center"><div style="display:flex;align-items:center;margin-right:1.45rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:80px;height:80px;margin-right:0.725rem;margin-bottom:0;min-width:80px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAQDAgUG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIA/9oADAMBAAIQAxAAAAGuevGaqcTPnsh3bA3/xAAcEAACAgIDAAAAAAAAAAAAAAABAgMRAAQSEyH/2gAIAQEAAQUCe6XsiOECvOeNsSEiZ7hlZk//xAAWEQEBAQAAAAAAAAAAAAAAAAABICH/2gAIAQMBAT8BDI//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAACAwADAAAAAAAAAAAAAAABEQAQEgIxMv/aAAgBAQAGPwLPHswaOgaZv0owVGVP/8QAHRABAAICAgMAAAAAAAAAAAAAAQAREDFBUSFhkf/aAAgBAQABPyFsrWt6iCs1ezHUBAWvkreOPBwQPwU2pXU//9oADAMBAAIAAwAAABAkAL7/xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAQ/9oACAEDAQE/EAU6as5//8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxAnYoF//8QAHhABAQACAgIDAAAAAAAAAAAAAREAITFRQYEQcaH/2gAIAQEAAT8Q3xseEnLkKqvmj53lMWR0tehI4rFlUVgcfvxH0nQw99+8oShuoD995HiKoJc//9k=" alt="David Morton" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/a31b04f7c83ed6a9a3a60261d0fefcf0/b0b39/profile_cropped.jpg 1x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/93542/profile_cropped.jpg 1.5x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/aa4d2/profile_cropped.jpg 2x" /><img loading="lazy" width="80" height="80" srcset="/static/a31b04f7c83ed6a9a3a60261d0fefcf0/b0b39/profile_cropped.jpg 1x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/93542/profile_cropped.jpg 1.5x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/aa4d2/profile_cropped.jpg 2x" src="/static/a31b04f7c83ed6a9a3a60261d0fefcf0/b0b39/profile_cropped.jpg" alt="David Morton" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><a style="text-decoration:none;color:inherit;border-bottom:none" href="/"><span style="font-weight:500">David Morton</span></a></div><div style="margin-left:auto;text-align:center"><a rel="noreferrer noopener" href="https://twitter.com/daithimorton" target="_blank" style="margin:0 2px 0 2px">Twitter</a> <a rel="noreferrer noopener" href="https://github.com/daithimorton" target="_blank" style="margin:0 2px 0 2px">GitHub</a> <a rel="noreferrer noopener" href="https://www.npmjs.com/~mortond" target="_blank" style="margin:0 2px 0 2px">NPM</a> <a rel="noreferrer noopener" href="https://www.linkedin.com/in/daithimorton/" target="_blank" style="margin:0 2px 0 2px">LinkedIn</a> <a rel="noreferrer noopener" href="https://stackoverflow.com/users/2600522/david-morton" target="_blank" style="margin:0 2px 0 2px">Stackoverflow</a></div></header><div style="margin-left:auto;margin-right:auto;max-width:43.5rem;padding:0.725rem"><div style="text-align:center"><h1>Deterministic sorting</h1><p style="display:block;margin-bottom:1.45rem;margin-top:-0.725rem">☕ <!-- -->5 min read</p></div><div><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.66666666666667%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMAAf/aAAwDAQACEAMQAAABdc6QdJMt/8QAGRAAAwEBAQAAAAAAAAAAAAAAAQIRABIh/9oACAEBAAEFAi8COrFj7uBbN//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ARn/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwFn/8QAGBAAAgMAAAAAAAAAAAAAAAAAABESICH/2gAIAQEABj8CYpIyn//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQWGB/9oACAEBAAE/IVyKeEtYYlnSTa5gxfsWqyf/2gAMAwEAAgADAAAAEI/f/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAxYf/aAAgBAwEBPxAsZe3/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFR/9oACAECAQE/EIYp/8QAHRABAAICAgMAAAAAAAAAAAAAAQARIWExQVFxgf/aAAgBAQABPxC3OzeCBMENJa44CK6A8A5fbuCcafI9Qt6FU68SuBbTM//Z" alt="blue whale" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/cdf7995e7459cf36a1370bc93c7e8364/49df2/banner.jpg 180w,
/static/cdf7995e7459cf36a1370bc93c7e8364/6580d/banner.jpg 360w,
/static/cdf7995e7459cf36a1370bc93c7e8364/94285/banner.jpg 720w,
/static/cdf7995e7459cf36a1370bc93c7e8364/1920d/banner.jpg 1080w,
/static/cdf7995e7459cf36a1370bc93c7e8364/c4b07/banner.jpg 1440w,
/static/cdf7995e7459cf36a1370bc93c7e8364/ccf8f/banner.jpg 3008w" sizes="(max-width: 720px) 100vw, 720px" /><img loading="lazy" sizes="(max-width: 720px) 100vw, 720px" srcset="/static/cdf7995e7459cf36a1370bc93c7e8364/49df2/banner.jpg 180w,
/static/cdf7995e7459cf36a1370bc93c7e8364/6580d/banner.jpg 360w,
/static/cdf7995e7459cf36a1370bc93c7e8364/94285/banner.jpg 720w,
/static/cdf7995e7459cf36a1370bc93c7e8364/1920d/banner.jpg 1080w,
/static/cdf7995e7459cf36a1370bc93c7e8364/c4b07/banner.jpg 1440w,
/static/cdf7995e7459cf36a1370bc93c7e8364/ccf8f/banner.jpg 3008w" src="/static/cdf7995e7459cf36a1370bc93c7e8364/94285/banner.jpg" alt="blue whale" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><a rel="noreferrer noopener" href="https://unsplash.com/photos/lwACYK8ScmA" target="_blank" style="margin:0 2px 0 2px">Photo by Todd Cravens</a></div><br/><div><blockquote>
<p>When using Array.sort() make sure your comparator function is deterministic. It should always return the same value for the same inputs, even if the argument order changes.</p>
</blockquote>
<!-- end -->
<p>In NodeJS version 11 the <a href="https://github.com/nodejs/node/pull/22754" target="_blank" rel="noreferrer noopener">v8 engine was updated to version 7.0</a>. One of the issues that was fixed in this release was a move to a <a href="https://bugs.chromium.org/p/v8/issues/detail?id=90" target="_blank" rel="noreferrer noopener">stable sorting algorithm</a>. You can read more about sorting in v8 <a href="https://v8.dev/blog/array-sort" target="_blank" rel="noreferrer noopener">here</a>.</p>
<blockquote>
<p>Previously, V8 used an unstable QuickSort for arrays with more than 10 elements. Now, we use the stable TimSort algorithm. </p>
<ul>
<li>Mathias Bynens <a href="https://twitter.com/mathias/status/1036626116654637057" target="_blank" rel="noreferrer noopener">https://twitter.com/mathias/status/1036626116654637057</a></li>
</ul>
</blockquote>
<p>This update changed the argument order of the <code class="language-text">Array.sort()</code> comparator function. </p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// previously NodeJS 10</span>
Array<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// compare a and b</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// now NodeJS 12</span>
Array<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// compare a and b</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Notice <code class="language-text">a</code> and <code class="language-text">b</code> have switched, if you relied on the value of <code class="language-text">a</code> being first in the argument order it is now second. I’ve recreated the bug I encountered below.</p>
<h2>Problem</h2>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> numbersArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> numbersArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">104</span> <span class="token punctuation">]</span></code></pre></div>
<p>If you are sorting a simple array of numbers then everything should be fine. You can use the <code class="language-text">-</code> operator to provide a nice deterministic comparator function. But if your array elements are a little more complex and you are using a mix of JavaScript operators to resolve your sorting, you may be in trouble.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> objectArray <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'jess'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'nick'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'cece'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">76</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> objectArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>    
    <span class="token comment">// sort by name, if names are equal sort by age</span>
    <span class="token comment">// else no change to sort order</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>name <span class="token operator">></span> b<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>name <span class="token operator">===</span> b<span class="token punctuation">.</span>name <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>age <span class="token operator">></span> b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// NodeJS 10</span>
<span class="token punctuation">[</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ! ORDER CHANGED</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'nick'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">104</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'jess'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'cece'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">76</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>

<span class="token comment">// NodeJS 12</span>
<span class="token punctuation">[</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'nick'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">104</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'jess'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'cece'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">76</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span></code></pre></div>
<p>The example above shows a comparator function for sorting an array of objects. The intended result is as follows:</p>
<ul>
<li>Sort by name</li>
<li>If names are equal, sort by age</li>
<li>Else no change to sort order</li>
</ul>
<p>We can see that in NodeJS 12 all is fine, the array is sorted as intended, and specifically when the <code class="language-text">name</code> and <code class="language-text">age</code> values are the same there is no change to the original order of the elements. Great!. But now if we look at the result when this code is run in NodeJS 10, we can see that when the <code class="language-text">name</code> and <code class="language-text">age</code> values are equal, the sort order is affected.</p>
<p>The bug here is that when the <code class="language-text">name</code> values are equal the comparator function resolves with either <code class="language-text">-1</code> or <code class="language-text">1</code>, there is no resolution where <code class="language-text">0</code> is returned. So we have a bug and its directly related to the argument order of this function.</p>
<h2>Solution</h2>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> result <span class="token operator">=</span> objectArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name <span class="token operator">===</span> b<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>age <span class="token operator">-</span> b<span class="token punctuation">.</span>age
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> b<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// NodeJS 10 + NodeJS 12</span>
<span class="token punctuation">[</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'winston'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'nick'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">104</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'jess'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'cece'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">76</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span></code></pre></div>
<p>A solution to fix this bug is to first check if the names are equal, then sort by age using the <code class="language-text">-</code> operator. And if the names are not equal then using <code class="language-text">localeCompare()</code> will provide the desired return values for our deterministic comparator function.</p>
<blockquote>
<p>The localeCompare() method returns a number indicating whether a reference string comes before, or after, or is the same as the given string in sort order.</p>
</blockquote>
<h2>Conclusion</h2>
<p>Working on this bug has reminded me that my code is only a small cog in the machine that is NodeJS and the JavaScript ecosystem. There are a lot of moving parts that get involved to run my code in the way that I expect. It is easy to forget those layers of complexity and to wonder why your code works on your computer, but not in production. </p>
<p>In relation to developer experience, bugs that arise from changes to your development environment are always a little tricky to get to the root of. And testing for these changes is very important when designing a good developer experience. Developers may use environments that are very different to yours so it’s important to define the boundaries as best you can, and to test those environments you support.</p>
<p>And the next time I’m working on a weird little bug I’ll be quicker to look just a little deeper into the stack, after a quick walk of course.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1280px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 35.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAABibAAAYmwFJdYOUAAABKklEQVQY0yWQWauCYBCGv///N4JuIi/CcyNaBKYkYtlyEk2lFU+LuGRRFJ0HnYthXph3mRGHw8FxnDRNj8fjfD7XNO2nrm63O5lMiqIoy5JeVdX1el0ul6vViv5XlwiCIIqiOI5/6xqPx/1+fzAYKIqy2+2ez+e3rs/ng/rpdIKs67phGHTR6XTa7TY+rVYrDEO2N5sNErZtT6fTLMsaMv5RXYvFwvf91+t1Pp8FG8QDY0uSy+Xiui4cTmCo6oJM5v1+nyQJnPf7DYt0Yr1eQ2g27vc7/NvtxjybzfAnKgcD6QTGo4H493o9oarqcDgEwIGMnmVZnuc9Hg+ERqORaZpIALHlHUB+TAryCs6AD8acg9GWJIltZhJtt1tZlvlFIw2HRyKd5znv/AcoNWtGUyEezQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="haunted computer"
        title="haunted computer"
        src="/static/76646131da6aa8f395428db08a55d86f/21b4d/inexplicable_2x.png"
        srcset="/static/76646131da6aa8f395428db08a55d86f/72799/inexplicable_2x.png 320w,
/static/76646131da6aa8f395428db08a55d86f/6af66/inexplicable_2x.png 640w,
/static/76646131da6aa8f395428db08a55d86f/21b4d/inexplicable_2x.png 1280w,
/static/76646131da6aa8f395428db08a55d86f/536c7/inexplicable_2x.png 1480w"
        sizes="(max-width: 1280px) 100vw, 1280px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<a href="https://xkcd.com/1316/" target="_blank" rel="noreferrer noopener">xkcd.com</a></p>
<h2>Related</h2>
<ul>
<li><a href="/blog/deterministic-vs-pure-functions">Deterministic vs. Pure functions</a></li>
</ul>
<h2>References</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="noreferrer noopener">MDN: Array.prototype.sort()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators" target="_blank" rel="noreferrer noopener">MDN: Operators</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare" target="_blank" rel="noreferrer noopener">MDN: String.prototype.localeCompare()</a></li>
<li><a href="https://v8.dev/blog/array-sort" target="_blank" rel="noreferrer noopener">v8.dev “Getting things sorted in V8”</a></li>
</ul></div><h2>Share this post</h2><div><button aria-label="linkedin" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="48" height="48"><circle cx="32" cy="32" r="31" fill="#007fb1"></circle><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="48" height="48"><circle cx="32" cy="32" r="31" fill="#00aced"></circle><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></svg></button><button aria-label="email" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="48" height="48"><circle cx="32" cy="32" r="31" fill="#7f7f7f"></circle><path d="M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z" fill="white"></path></svg></button><button aria-label="reddit" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="48" height="48"><circle cx="32" cy="32" r="31" fill="#5f99cf"></circle><path d="m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z" fill="white"></path></svg></button><button aria-label="facebook" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="48" height="48"><circle cx="32" cy="32" r="31" fill="#3b5998"></circle><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></svg></button><button aria-label="whatsapp" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="48" height="48"><circle cx="32" cy="32" r="31" fill="#25D366"></circle><path d="m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915" fill="white"></path></svg></button></div><hr style="margin-bottom:1.45rem;margin-top:1.45rem"/><div style="display:flex;align-items:center;margin-bottom:1.45rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:80px;height:80px;margin-right:0.725rem;margin-bottom:0;min-width:80px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAQDAgUG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIA/9oADAMBAAIQAxAAAAGuevGaqcTPnsh3bA3/xAAcEAACAgIDAAAAAAAAAAAAAAABAgMRAAQSEyH/2gAIAQEAAQUCe6XsiOECvOeNsSEiZ7hlZk//xAAWEQEBAQAAAAAAAAAAAAAAAAABICH/2gAIAQMBAT8BDI//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAACAwADAAAAAAAAAAAAAAABEQAQEgIxMv/aAAgBAQAGPwLPHswaOgaZv0owVGVP/8QAHRABAAICAgMAAAAAAAAAAAAAAQAREDFBUSFhkf/aAAgBAQABPyFsrWt6iCs1ezHUBAWvkreOPBwQPwU2pXU//9oADAMBAAIAAwAAABAkAL7/xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAQ/9oACAEDAQE/EAU6as5//8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxAnYoF//8QAHhABAQACAgIDAAAAAAAAAAAAAREAITFRQYEQcaH/2gAIAQEAAT8Q3xseEnLkKqvmj53lMWR0tehI4rFlUVgcfvxH0nQw99+8oShuoD995HiKoJc//9k=" alt="David Morton" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/a31b04f7c83ed6a9a3a60261d0fefcf0/b0b39/profile_cropped.jpg 1x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/93542/profile_cropped.jpg 1.5x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/aa4d2/profile_cropped.jpg 2x" /><img loading="lazy" width="80" height="80" srcset="/static/a31b04f7c83ed6a9a3a60261d0fefcf0/b0b39/profile_cropped.jpg 1x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/93542/profile_cropped.jpg 1.5x,
/static/a31b04f7c83ed6a9a3a60261d0fefcf0/aa4d2/profile_cropped.jpg 2x" src="/static/a31b04f7c83ed6a9a3a60261d0fefcf0/b0b39/profile_cropped.jpg" alt="David Morton" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><a style="text-decoration:none;color:inherit;border-bottom:none" href="/"><strong>David Morton</strong> is a husband, father, and software engineer living in Ireland with interests in user interface design, a/b testing, user experience, developer experience, game design, business, and teaching.</a></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-63312977-12', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/deterministic-array-sort-comparator/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8be7f53287652032e68d.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-7c31e2436cade51cbcda.js"],"component---src-pages-404-js":["/component---src-pages-404-js-8134832b4ea46ba329e2.js"],"component---src-pages-index-js":["/component---src-pages-index-js-cf6b9e3ecc30f511b47c.js"],"component---src-templates-post-js":["/component---src-templates-post-js-cb66537d0c8826982aab.js"]};/*]]>*/</script><script src="/webpack-runtime-03cc0ef7273638027649.js" async=""></script><script src="/styles-cd63080e784be7b7e7cf.js" async=""></script><script src="/framework-5fc6169171e885c3b522.js" async=""></script><script src="/app-8be7f53287652032e68d.js" async=""></script><script src="/acf16f2f71439f91fad451fd15a93dbbc3bca2e0-4b069479f19974f73882.js" async=""></script><script src="/291a736a4998dc6bb1e7dae6dfd245355445eafd-7031cf11fa12a2746fc8.js" async=""></script><script src="/component---src-templates-post-js-cb66537d0c8826982aab.js" async=""></script></body></html>