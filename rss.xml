<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[@Beautifwhale]]></title><description><![CDATA[Software Witchcraft & Wizardry]]></description><link>https://beautifwhale.github.io/</link><generator>RSS for Node</generator><lastBuildDate>Thu, 31 Jan 2019 10:24:49 GMT</lastBuildDate><item><title><![CDATA[Java Object equals() and hashcode() methods]]></title><description><![CDATA[I was recently asked this question in an interview: Why is overriding the equals() and hashcode() methods on your class important when using…]]></description><link>https://beautifwhale.github.io/2019-01-30</link><guid isPermaLink="false">https://beautifwhale.github.io/2019-01-30</guid><category><![CDATA[Java]]></category><pubDate>Wed, 30 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was recently asked this question in an interview:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Why is overriding the equals() and hashcode() methods on your class important when using Collections?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;At first I didn’t really understand the question, I was thinking more along the
lines of how it might be done as opposed to why you would actually do it. I
struggled to find the answer they were looking for. I continued to ask more
questions hoping to narrow down what the interviewer was looking for exactly. I
didn’t provide a solid answer to the question but I talked through what I was
thinking and came close, I think.&lt;/p&gt;
&lt;p&gt;In hindsight, and with some additional Googling, I can see
that the question was very simple, it was my lack of experience with the
context that was the problem. Curious to know the answer to the question I did
some searching.&lt;/p&gt;
&lt;p&gt;So it turns out the reason why you would override the &lt;code class=&quot;language-text&quot;&gt;equals()&lt;/code&gt; and
&lt;code class=&quot;language-text&quot;&gt;hashCode()&lt;/code&gt; methods in your class is when using the Java Collections API for
things like &lt;code class=&quot;language-text&quot;&gt;Hashtable&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Hashset&lt;/code&gt;, or &lt;code class=&quot;language-text&quot;&gt;HashMap&lt;/code&gt;. Both of
these methods are called depending on the context and data structure used.&lt;/p&gt;
&lt;h1&gt;Hashtables, HashSets, and HashMaps&lt;/h1&gt;
&lt;p&gt;To understand why its critical to override these methods its important to
understand how these collections work at a high level. For example using Set to
store &lt;code class=&quot;language-text&quot;&gt;Student&lt;/code&gt; objects. We want to leverage the functionality of a Set to only allow unique objects to be stored, no duplicates.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist94375957&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-students-java&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;blob-wrapper data type-java &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt; student1 &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;111&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Donald&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;donaldtrump@gmail.com&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;60&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt; student2 &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;111&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Donald&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;donaldtrump@gmail.com&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;60&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt; student3 &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;888&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Peter&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;peterpan@gmail.com&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;12&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;Set&amp;lt;&lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt;&amp;gt;&lt;/span&gt; setStudents &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;HashSet&amp;lt;&lt;span class=&quot;pl-smi&quot;&gt;Student&lt;/span&gt;&amp;gt;&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;setStudents&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;add(student1);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;setStudents&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;add(student2);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-students-java-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-students-java-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;setStudents&lt;span class=&quot;pl-k&quot;&gt;.&lt;/span&gt;add(student3);&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/beautifwhale/f24ce565fff27756dc8be19aa9c8c472/raw/7864ddbec5d0ca4c186cc53bb7fa48466ec4609b/students.java&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/beautifwhale/f24ce565fff27756dc8be19aa9c8c472#file-students-java&quot;&gt;students.java&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;p&gt;We can see here that we have two identical &lt;code class=&quot;language-text&quot;&gt;Student&lt;/code&gt; objects in terms of there
contents. We do not want to store both of these objects, only one is required.
Using the example as it is without overriding &lt;code class=&quot;language-text&quot;&gt;equals()&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;hashCode()&lt;/code&gt; in the
&lt;code class=&quot;language-text&quot;&gt;Student&lt;/code&gt; the results of a print:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;setStudents&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;student &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;student&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Would be something like (remember to override the &lt;code class=&quot;language-text&quot;&gt;toString()&lt;/code&gt; method to control
your print output):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Student 111 Donald donaldtrump@gmail.com 60
Student 111 Donald donaldtrump@gmail.com 60
Student 888 Peter peterpan@gmail.com 12&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Wait what? why is there two entries for Donald? I’m using a HashSet only one Object should have been stored.&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif&quot; alt=&quot;Cat&quot;&gt;&lt;/p&gt;</content:encoded></item></channel></rss>